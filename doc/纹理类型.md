# 🧊 什么是 Solid Texture（体纹理 / 三维纹理）？

### 定义：
**Solid Texture（体纹理）** 是一种定义在 **三维空间** 中的纹理，它为每个 **3D 坐标 (x, y, z)** 分配一个颜色（或标量值），而不是像传统纹理那样只定义在二维平面上。

- 数学上：  
  $( T: \mathbb{R}^3 \rightarrow \text{Color} ) $
  即：输入一个 3D 点，输出一个颜色。

- 存储形式：通常是一个 **3D 纹理数组（volume texture）**，例如 `512×512×512` 的体素（voxel）数据。

### 特点：
✅ **与几何无关**：不需要 UV 映射，直接用世界坐标或物体坐标采样。  
✅ **支持内部细节**：可以表现物体内部结构（如大理石纹路贯穿整个石头）。  
✅ **天然抗拉伸/接缝**：因为不依赖表面参数化。

### 应用场景：
- 大理石、木材、云、火焰等具有 **体积感** 的材质
- 医学成像（CT/MRI 数据本身就是体纹理）
- 程序化噪声（如 Perlin noise、Worley noise）常作为 solid texture 使用

### 示例（GLSL）：
```glsl
uniform sampler3D volumeTex; // 3D 纹理采样器
vec3 worldPos = ...;         // 物体的世界坐标
vec4 color = texture(volumeTex, worldPos); // 直接用 3D 坐标采样
```

> 💡 注意：使用前需将坐标归一化到 [0,1]³ 或纹理定义域。

---

## 🎨 其他常见的 Texture 类型

除了 solid texture，图形学中还有多种纹理类型，按维度和用途分类如下：

| 类型 | 维度 | 别名 | 特点 | 典型用途 |
|------|------|------|------|--------|
| **2D Texture** | 2D | 普通纹理 | 最常见，用 (u,v) 采样 | 漫反射贴图、法线贴图等 |
| **Cube Map** | 2D×6 | 立方体贴图 | 6 张 2D 图组成一个立方体 | 环境光、天空盒、反射 |
| **1D Texture** | 1D | 一维纹理 | 用单个参数 t 采样 | 颜色渐变、查找表（LUT） |
| **3D Texture** | 3D | **Solid Texture / Volume Texture** | 用 (x,y,z) 采样 | 体积材质、医学图像 |
| **Array Texture** | 2D + layer | 纹理数组 | 多张 2D 纹理堆叠 | 批量渲染不同贴图 |
| **Shadow Map** | 2D / Cube | 深度纹理 | 存储深度值而非颜色 | 阴影计算 |
| **Procedural Texture** | 任意 | 程序化纹理 | 由算法实时生成，非图像文件 | 噪声、分形、动态图案 |

---

### 补充说明：

#### 1. **Procedural Texture（程序化纹理）**
- 不是“存储”的图像，而是通过数学函数（如 noise）实时计算。
- 可以是 2D、3D（solid）甚至 4D（加入时间）。
- 例子：`fbm(x,y,z)` 生成云或地形。

#### 2. **Texture ≠ Image**
- “纹理”在 GPU 中是一种 **可采样的数据资源**，不一定是图片。
- 法线贴图、粗糙度贴图、位移贴图等都是“纹理”，但存储的是 **物理属性** 而非颜色。

#### 3. **Solid Texture vs Surface Texture**
| 对比项 | Surface Texture（表面纹理） | Solid Texture（体纹理） |
|--------|----------------------------|--------------------------|
| 定义域 | 2D 参数空间 (u,v) | 3D 空间 (x,y,z) |
| 依赖 UV？ | 是 | 否 |
| 能表现内部？ | 否（仅表面） | 是 |
| 内存占用 | 较小（如 2K×2K） | 很大（如 256³ = 16MB+） |
| 硬件支持 | 广泛 | 支持，但不如 2D 普遍 |

---

## ✅ 总结

- **Solid texture（体纹理）** 是定义在三维空间中的纹理，适合表现具有体积细节的材质。
- 它只是众多纹理类型中的一种，其他还包括 2D 纹理、立方体贴图、1D 查找表、阴影贴图等。
- 现代渲染中，**程序化 solid texture（如 3D noise）** 非常强大，能生成无限细节且无接缝的自然材质。